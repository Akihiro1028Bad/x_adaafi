<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitter アカウント管理</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Twitter アカウント管理</h1>
        <a href="{{ url_for('index') }}" class="button">メイン画面に戻る</a>

        <h2>新規アカウント追加</h2>
        <form id="addAccountForm">
            <div class="form-group">
                <label for="newUsername">ユーザー名:</label>
                <input type="text" id="newUsername" name="username" required>
            </div>
            <div class="form-group">
                <label for="newConsumerKey">Consumer Key:</label>
                <input type="text" id="newConsumerKey" name="consumer_key" required>
            </div>
            <div class="form-group">
                <label for="newConsumerSecret">Consumer Secret:</label>
                <input type="text" id="newConsumerSecret" name="consumer_secret" required>
            </div>
            <div class="form-group">
                <label for="newAccessToken">Access Token:</label>
                <input type="text" id="newAccessToken" name="access_token" required>
            </div>
            <div class="form-group">
                <label for="newAccessTokenSecret">Access Token Secret:</label>
                <input type="text" id="newAccessTokenSecret" name="access_token_secret" required>
            </div>
            <div class="form-group">
                <label for="newPostFlag">
                    <input type="checkbox" id="newPostFlag" name="post_flag"> 投稿を有効にする
                </label>
            </div>
            <button type="submit">追加</button>
        </form>

        <h2>アカウント一覧</h2>
        <table id="accountsTable">
            <thead>
                <tr>
                    <th>ユーザー名</th>
                    <th>投稿フラグ</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <!-- ここにアカウントのリストが動的に追加されます -->
            </tbody>
        </table>
    </div>

    <!-- 編集用モーダル -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>アカウントを編集</h2>
            <form id="editAccountForm">
                <input type="hidden" id="editId" name="id">
                <div class="form-group">
                    <label for="editUsername">ユーザー名:</label>
                    <input type="text" id="editUsername" name="username" required>
                </div>
                <div class="form-group">
                    <label for="editConsumerKey">Consumer Key:</label>
                    <input type="text" id="editConsumerKey" name="consumer_key">
                </div>
                <div class="form-group">
                    <label for="editConsumerSecret">Consumer Secret:</label>
                    <input type="text" id="editConsumerSecret" name="consumer_secret">
                </div>
                <div class="form-group">
                    <label for="editAccessToken">Access Token:</label>
                    <input type="text" id="editAccessToken" name="access_token">
                </div>
                <div class="form-group">
                    <label for="editAccessTokenSecret">Access Token Secret:</label>
                    <input type="text" id="editAccessTokenSecret" name="access_token_secret">
                </div>
                <div class="form-group">
                    <label for="editPostFlag">
                        <input type="checkbox" id="editPostFlag" name="post_flag"> 投稿を有効にする
                    </label>
                </div>
                <button type="submit">更新</button>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='manage_accounts.js') }}"></script>
</body>
</html>